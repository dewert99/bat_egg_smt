(declare-sort S1)
(declare-sort S2 1)
(declare-const a S1)
(declare-fun b () S1)
(declare-fun f (S1 S1) (S2 S1))
(assert (not (= (f a a) (f a b))))
(check-sat-assuming ((= a b)))
(get-unsat-core)
(check-sat)
(get-model)
(get-value (a b (f a a) (f a b)))