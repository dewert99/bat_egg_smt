(declare-sort S)
(declare-const a S)
(declare-const b S)
(declare-fun f (S) Bool)
(assert (= a b))
(assert (f a))
(check-sat)
(get-model)
(push)
(declare-sort S2)
(declare-fun g (S2) S)
(declare-const c S2)
(assert (= b (g c)))
(check-sat)
(get-model)
(assert (not (f (g c))))
(check-sat)
(get-unsat-core)
(pop)
(declare-const c S)
(declare-sort S2 3)
(assert (not (f c)))
(check-sat)
(get-model)
(assert (= b c))
(check-sat)
(get-unsat-core)